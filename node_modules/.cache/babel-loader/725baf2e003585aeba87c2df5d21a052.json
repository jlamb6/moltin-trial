{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime-corejs2/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\The Great Lambino\\\\Projects\\\\moltin\\\\moltin-trial\\\\pages\\\\index.js\";\n\n//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n//import 'bootstrap/dist/css/bootstrap.css';\n//import 'bootstrap/dist/js/bootstrap.js';\nrequire('dotenv').config();\n\nvar MoltinGateway = require('@moltin/sdk').gateway;\n\nvar Moltin = MoltinGateway({\n  client_id: process.env.CLIENT_ID,\n  client_secret: process.env.CLIENT_SECRET\n});\nimport Head from 'next/head';\nimport Layout from '../components/layout';\nimport ProductTile from '../components/productTile';\nimport React from 'react';\nimport { Shopkit } from '@moltin/react-shopkit';\n\nvar Home =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Home, _React$Component);\n\n  function Home() {\n    _classCallCheck(this, Home);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Home).apply(this, arguments));\n  }\n\n  _createClass(Home, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(Shopkit, {\n        clientId: process.env.clientId,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52\n        },\n        __self: this\n      }, React.createElement(Layout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53\n        },\n        __self: this\n      }, React.createElement(Head, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54\n        },\n        __self: this\n      }, React.createElement(\"meta\", {\n        name: \"viewport\",\n        content: \"width=device-width, initial-scale=1, shrink-to-fit=no\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55\n        },\n        __self: this\n      }), React.createElement(\"title\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56\n        },\n        __self: this\n      }, \"Moltin Ecommerce Site\"), React.createElement(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\",\n        integrity: \"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\",\n        crossOrigin: \"anonymous\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57\n        },\n        __self: this\n      }), React.createElement(\"link\", {\n        rel: \"stylesheet\",\n        href: \"https://use.fontawesome.com/releases/v5.8.1/css/all.css\",\n        integrity: \"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\",\n        crossOrigin: \"anonymous\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58\n        },\n        __self: this\n      }), React.createElement(\"script\", {\n        src: \"https://code.jquery.com/jquery-3.3.1.slim.min.js\",\n        integrity: \"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\",\n        crossOrigin: \"anonymous\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59\n        },\n        __self: this\n      }), React.createElement(\"script\", {\n        src: \"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\",\n        integrity: \"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\",\n        crossOrigin: \"anonymous\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60\n        },\n        __self: this\n      }), React.createElement(\"script\", {\n        src: \"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\",\n        integrity: \"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\",\n        crossOrigin: \"anonymous\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63\n        },\n        __self: this\n      }, \"Hello World\"), React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64\n        },\n        __self: this\n      }, console.log(this.props), React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67\n        },\n        __self: this\n      }, this.props.allProducts.map(function (cur, index) {\n        return React.createElement(\"div\", {\n          className: \"col-md-4\",\n          key: \"productIndex-\".concat(index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 70\n          },\n          __self: this\n        }, React.createElement(ProductTile, {\n          imgSource: cur.image_main.link.href,\n          key: index,\n          name: cur.name,\n          brand: cur.brand,\n          price: cur.price[0].amount,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 71\n          },\n          __self: this\n        }));\n      }))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n\n    /**\n     * @return {returns all products and all product images} \n     */\n    value: function () {\n      var _getInitialProps = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        var data, images, products, brands, allProducts;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return Moltin.Products.With(['main_image', 'brands']).All().then(function (data) {\n                  return data;\n                });\n\n              case 2:\n                data = _context.sent;\n                images = data.included.main_images.map(function (cur) {\n                  return cur;\n                });\n                products = data.data.map(function (cur) {\n                  return cur;\n                });\n                brands = data.included.brands.map(function (cur) {\n                  var brand = {};\n                  brand.brandName = cur.name;\n                  brand.brandId = cur.id;\n                  brand.brandSlug = cur.slug;\n                  return brand;\n                });\n                allProducts = products.map(function (cur) {\n                  var id = cur.relationships.main_image.data.id;\n                  var brandId = cur.relationships.brands.data[0].id;\n                  var image = images.filter(function (cur) {\n                    return cur.id === id;\n                  })[0];\n                  var brand = brands.filter(function (cur) {\n                    return cur.brandId === brandId;\n                  })[0];\n                  cur.image_main = image;\n                  return cur;\n                });\n                console.log(brands); //return { products, images };\n\n                return _context.abrupt(\"return\", {\n                  allProducts: allProducts\n                });\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return Home;\n}(React.Component);\n\nexport default Home;","map":{"version":3,"sources":["C:\\Users\\The Great Lambino\\Projects\\moltin\\moltin-trial\\pages\\index.js"],"names":["require","config","MoltinGateway","gateway","Moltin","client_id","process","env","CLIENT_ID","client_secret","CLIENT_SECRET","Head","Layout","ProductTile","React","Shopkit","Home","clientId","console","log","props","allProducts","map","cur","index","image_main","link","href","name","brand","price","amount","Products","With","All","then","data","images","included","main_images","products","brands","brandName","brandId","id","brandSlug","slug","relationships","main_image","image","filter","Component"],"mappings":"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","sourcesContent":["//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n//import 'bootstrap/dist/css/bootstrap.css';\n//import 'bootstrap/dist/js/bootstrap.js';\nrequire('dotenv').config();\n\nconst MoltinGateway = require('@moltin/sdk').gateway;\n\nconst Moltin = MoltinGateway({\n  client_id: process.env.CLIENT_ID, \n  client_secret: process.env.CLIENT_SECRET\n});\n\nimport Head from 'next/head';\nimport Layout from '../components/layout';\nimport ProductTile from '../components/productTile';\nimport React from 'react';\nimport { Shopkit } from '@moltin/react-shopkit';\n\nclass Home extends React.Component {\n\n  /**\n   * @return {returns all products and all product images} \n   */\n  static async getInitialProps() {\n    let data = await Moltin.Products.With(['main_image', 'brands']).All().then(data => {\n      return data;\n    });\n    let images = data.included.main_images.map(cur => cur);\n    let products = data.data.map(cur => cur);\n    let brands = data.included.brands.map(cur => {\n      let brand = {};\n      brand.brandName = cur.name;\n      brand.brandId = cur.id;\n      brand.brandSlug = cur.slug;\n      return brand;\n    });\n    let allProducts = products.map(cur => {\n      let id = cur.relationships.main_image.data.id;\n      let brandId = cur.relationships.brands.data[0].id;\n      let image = images.filter(cur => cur.id === id)[0];\n      let brand = brands.filter(cur => cur.brandId === brandId)[0];\n      cur.image_main = image;\n      return cur;\n    });\n    console.log(brands);\n    //return { products, images };\n    return { allProducts };\n  }\n\n render() {\n    return (\n      <Shopkit clientId={process.env.clientId}>\n        <Layout>\n          <Head>\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"></meta>\n            <title>Moltin Ecommerce Site</title>\n            <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossOrigin=\"anonymous\"></link>\n            <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.1/css/all.css\" integrity=\"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\" crossOrigin=\"anonymous\"></link>\n            <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossOrigin=\"anonymous\"></script>\n            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossOrigin=\"anonymous\"></script>\n            <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossOrigin=\"anonymous\"></script>\n          </Head>\n          <div>Hello World</div>\n          <div>\n            {console.log(this.props)}\n            <div className=\"container\">\n              <div className=\"row\">\n                {this.props.allProducts.map((cur, index) => {\n                  return (\n                    <div className=\"col-md-4\" key={`productIndex-${index}`}>\n                      <ProductTile imgSource={cur.image_main.link.href} key={index} name={cur.name} brand={cur.brand} price={cur.price[0].amount} />\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n        </Layout>\n      </Shopkit>\n    )\n  }\n}\n  \nexport default Home;"]},"metadata":{},"sourceType":"module"}