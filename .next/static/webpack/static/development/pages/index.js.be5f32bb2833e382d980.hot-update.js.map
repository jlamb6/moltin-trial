{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.be5f32bb2833e382d980.hot-update.js","sources":["webpack:///./pages/index.js"],"sourcesContent":["//import '../node_modules/bootstrap/dist/css/bootstrap.min.css';\n//import 'bootstrap/dist/css/bootstrap.css';\n//import 'bootstrap/dist/js/bootstrap.js';\nrequire('dotenv').config();\n\nconst MoltinGateway = require('@moltin/sdk').gateway;\n\nconst Moltin = MoltinGateway({\n  client_id: process.env.CLIENT_ID, \n  client_secret: process.env.CLIENT_SECRET\n});\n\nimport Head from 'next/head';\nimport Layout from '../components/layout';\nimport ProductTile from '../components/productTile';\nimport React from 'react';\nimport { Shopkit } from '@moltin/react-shopkit';\n\nclass Home extends React.Component {\n\n  /**\n   * @return {returns all products and all product images} \n   */\n  static async getInitialProps() {\n    let data = await Moltin.Products.With(['main_image', 'brands']).All().then(data => {\n      return data;\n    });\n    let images = data.included.main_images.map(cur => cur);\n    let products = data.data.map(cur => cur);\n    let brands = data.included.brands.map(cur => {\n      let brand = {};\n      brand.brandName = cur.name;\n      brand.brandId = cur.id;\n      brand.brandSlug = cur.slug;\n      return brand;\n    });\n    let allProducts = products.map(cur => {\n      let id = cur.relationships.main_image.data.id;\n      let brandId = cur.relationships.brands.data[0].id;\n      let image = images.filter(cur => cur.id === id)[0];\n      let brand = brands.filter(cur => cur.brandId === brandId)[0];\n      cur.image_main = image;\n      cur.brand = brand;\n      return cur;\n    });\n    return { allProducts };\n  }\n\n render() {\n    return (\n      <Shopkit clientId={process.env.clientId}>\n        <Layout>\n          <Head>\n            <meta name=\"viewport\" content=\"width=device-width, initial-scale=1, shrink-to-fit=no\"></meta>\n            <title>Moltin Ecommerce Site</title>\n            <link rel=\"stylesheet\" href=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css\" integrity=\"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T\" crossOrigin=\"anonymous\"></link>\n            <link rel=\"stylesheet\" href=\"https://use.fontawesome.com/releases/v5.8.1/css/all.css\" integrity=\"sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf\" crossOrigin=\"anonymous\"></link>\n            <script src=\"https://code.jquery.com/jquery-3.3.1.slim.min.js\" integrity=\"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo\" crossOrigin=\"anonymous\"></script>\n            <script src=\"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js\" integrity=\"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1\" crossOrigin=\"anonymous\"></script>\n            <script src=\"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js\" integrity=\"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM\" crossOrigin=\"anonymous\"></script>\n          </Head>\n          <div>\n            {console.log(this.props)}\n            <div className=\"container\">\n              <div className=\"row\">\n                {this.props.allProducts.map((cur, index) => {\n                  return (\n                    <div className=\"col-md-4\" key={`productIndex-${index}`}>\n                      <ProductTile imgSource={cur.image_main.link.href} key={index} name={cur.name} brand={cur.brand} price={cur.price[0].amount} />\n                    </div>\n                  )\n                })}\n              </div>\n            </div>\n          </div>\n        </Layout>\n      </Shopkit>\n    )\n  }\n}\n  \nexport default Home;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AA8BA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAOA;;;;AA1DA;;;;;;;;;;;;;AAIA;AACA;AACA;AACA;;AAHA;AAGA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;AA5BA;AACA;AA8DA;;;;;A","sourceRoot":""}